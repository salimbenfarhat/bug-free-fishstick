{"version":3,"sources":["config.js","js/Catalog.js","js/PostContent.js","js/Post.js","js/Posts.js","App.js","index.js"],"names":["config","Catalog","_Component","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","_jsx","className","children","this","props","tables","map","_ref","index","level","title","href","Component","PostContent","_this","call","state","content","_this2","id","window","location","split","pop","marked","setOptions","highlight","code","hljs","highlightAuto","NProgress","start","url","concat","fetch","then","resp","json","issue","renderContent","setState","done","htmlContent","body","match","item","length","replace","trim","forEach","_toc","_this$handleAnchor","handleAnchor","_jsxs","created_at","substr","dangerouslySetInnerHTML","__html","onClick","html_url","Post","post","labels","label","path","Link","to","pathname","date","Posts","posts","parseInt","data","filter","number","tag","name","substring","resolveId","fetchData","postItem","App","Router","basename","Route","component","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.78a79b8e.chunk.js","sourcesContent":["export const config = {\r\n  // Your Github UserName\r\n  githubUserName: \"salimbenfarhat\",\r\n  // Your Github Repo Name Where You Have your issues as Blog\r\n  githubRepo: \"bug-free-fishstick\",\r\n  project: {\r\n    bugFreeFishstick: {\r\n      code: \"https://github.com/salimbenfarhat/bug-free-fishstick\",\r\n      demo: \"https://salimbenfarhat.github.io/bug-free-fishstick\",\r\n    },\r\n  },\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Catalog extends Component {\r\n  render() {\r\n    return (\r\n      <aside className=\"catalog-container\">\r\n        {this.props.tables.map(({ level, title }, index) => (\r\n          <div key={index}>\r\n            <a className={\"article-catalog-h\" + level} href={\"#\" + title}>\r\n              {title}\r\n            </a>\r\n          </div>\r\n        ))}\r\n      </aside>\r\n    );\r\n  }\r\n}\r\n","import hljs from \"highlight.js\";\r\nimport \"highlight.js/styles/zenburn.css\";\r\nimport marked from \"marked\";\r\nimport NProgress from \"nprogress\";\r\nimport React, { Component } from \"react\";\r\nimport { config } from \"../config\";\r\nimport Catalog from \"./Catalog\";\r\n\r\nclass PostContent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      content: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const path = window.location.href;\r\n    const id = path.split(\"/\").pop();\r\n\r\n    marked.setOptions({\r\n      highlight: (code) => hljs.highlightAuto(code).value,\r\n    });\r\n\r\n    NProgress.start();\r\n    const url = `https://api.github.com/repos/${config.githubUserName}/${config.githubRepo}/issues/${id}`;\r\n    fetch(url)\r\n      .then((resp) => resp.json())\r\n      .then((issue) => {\r\n        const content = this.renderContent(issue);\r\n        this.setState({ content: content });\r\n      });\r\n    NProgress.done();\r\n  }\r\n\r\n  handleAnchor(issue) {\r\n    let htmlContent = marked(issue.body);\r\n\r\n    //匹配目录\r\n    const toc = issue.body.match(/#{1,6}\\s(.+)/g);\r\n    const tables = toc.map((item) => ({\r\n      level: item.split(\"#\").length - 1,\r\n      title: item.replace(/#{1,6}/, \"\").trim(),\r\n    }));\r\n\r\n    //给html中的h加id\r\n    let tocHtml = htmlContent.match(/<(h\\d).*?>.*?<\\/h\\d>/g);\r\n    tocHtml.forEach((item, index) => {\r\n      let _toc = `<div id='${tables[index].title}'>${item} </div>`;\r\n      // let _toc = item.replace(/\".*\"/g, `\"${tables[index].title}\"`);\r\n      // _toc = _toc.replace(/>.*</g, `><a herf='#${tables[index].title}'> ${tables[index].title} </a><`);\r\n      htmlContent = htmlContent.replace(item, _toc);\r\n    });\r\n    return { htmlContent, tables };\r\n  }\r\n\r\n  renderContent(issue) {\r\n    const { htmlContent, tables } = this.handleAnchor(issue);\r\n    return (\r\n      <div className=\"content-layout\">\r\n        <Catalog tables={tables}></Catalog>\r\n        <div className=\"main-container\">\r\n          <a href=\"#top\" id=\"gotop-btn\">\r\n            Up\r\n          </a>\r\n          <div className=\"article\">\r\n            <article className=\"article \">\r\n              <h1 className=\"article-title\">{issue.title}</h1>\r\n              <p className=\"article-time\">{issue.created_at.substr(0, 10)}</p>\r\n              <div\r\n                className=\"article-desc article-content\"\r\n                dangerouslySetInnerHTML={{ __html: htmlContent }}\r\n              />\r\n            </article>\r\n            <div className=\"article\">\r\n              <button\r\n                className=\"article-comment\"\r\n                onClick={() => (window.location.href = issue.html_url)}\r\n              >\r\n                Comment\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  render() {\r\n    return <div>{this.state.content}</div>;\r\n  }\r\n}\r\n\r\nexport default PostContent;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Post extends Component {\r\n  render() {\r\n    const post = this.props.post;\r\n    let labels = post.labels.map((label) => (\r\n      <span key={label} className=\"list-label\">\r\n        {label}\r\n      </span>\r\n    ));\r\n    let path = \"/post/\" + post.id;\r\n    return (\r\n      <li className=\"list-post\">\r\n        <div>\r\n          <Link to={{ pathname: path }}>{post.title}</Link>\r\n        </div>\r\n        <span className=\"date-long\">{post.date}</span>\r\n        {labels}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Post;\r\n","import NProgress from \"nprogress\";\r\nimport React, { Component } from \"react\";\r\nimport { config } from \"../config\";\r\nimport Post from \"./Post.js\";\r\nclass Posts extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { posts: [] };\r\n  }\r\n\r\n  resolveId(location) {\r\n    return parseInt(location.pathname.split(\"/\").pop());\r\n  }\r\n\r\n  fetchData() {\r\n    const url = `https://api.github.com/repos/${config.githubUserName}/${config.githubRepo}/issues`;\r\n    fetch(url)\r\n      .then((resp) => {\r\n        return resp.json();\r\n      })\r\n      .then((data) => {\r\n        const posts = data\r\n          .filter((item) => item.state === \"open\")\r\n          .map((item) => {\r\n            return {\r\n              id: item.number,\r\n              title: item.title,\r\n              labels: item.labels.map((tag) => tag.name),\r\n              url: item.html_url,\r\n              date: item.created_at.substring(0, 10),\r\n            };\r\n          });\r\n        this.setState({ posts: posts });\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.id = this.resolveId(this.props.location);\r\n    NProgress.start();\r\n    this.fetchData();\r\n    NProgress.done();\r\n  }\r\n\r\n  render() {\r\n    const postItem = this.state.posts.map((post) => (\r\n      <Post key={post.id} post={post} />\r\n    ));\r\n    return (\r\n      <div className=\"list\">\r\n        <ul>{postItem}</ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Posts;\r\n","import \"nprogress/nprogress.css\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Link, Route } from \"react-router-dom\";\nimport { config } from \"./config\";\nimport \"./css/index.css\";\nimport \"./css/list.css\";\nimport \"./css/post.css\";\nimport \"./css/reset.css\";\nimport PostContent from \"./js/PostContent.js\";\nimport Posts from \"./js/Posts.js\";\n\nexport default class App extends Component {\n  render() {\n    return (\n      <Router basename=\"/bug-free-fishstick\">\n        <div>\n          <div className=\"navbar\">\n            <Link to=\"/\">Posts</Link>\n          </div>\n          <Route path=\"/post/:id\" component={PostContent} />\n          {/* <Redirect from=\"posts/:id\" to=\"/posts/:id\" /> */}\n          <Route exact path=\"/\" component={Posts} />\n        </div>\n      </Router>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}